{"version":3,"sources":["webpack:///./app/containers/ArticalDetail.js","webpack:///./app/components/artical-detail/actions.js","webpack:///./app/components/artical-detail/actionTypes.js","webpack:///./app/components/artical-detail/index.js","webpack:///./app/components/artical-detail/view.js","webpack:///./app/components/artical-detail/index.scss?85a8","webpack:///./app/components/artical-detail/index.scss","webpack:///./app/components/artical-detail/reducer.js"],"names":["reducer","initialState","ArticalDetail","stateKey","fetchADetailStarted","type","fetchADetailSuccess","infos","fetchADetailFailure","message","getArticalDetail","id","dispatch","apiUrl","fetch","then","response","status","Error","json","responseJson","catch","error","FETCH_STARTED","FETCH_SUCCESS","FETCH_FAILURE","actions","props","getDetail","console","log","nextProps","detail","title","body","tag","category","created_at","updated_at","views","__html","mapStateToProps","state","mapDispathToProps","Status","LOADING","action","SUCCESS","FAILURE"],"mappings":"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","file":"chunk/artical-detail.chunk.js","sourcesContent":["import ArticalDetail, {stateKey, reducer as adReducer, initialState as adiState} from '../components/artical-detail';\r\n\r\nconst reducer = {\r\n    [stateKey]: adReducer\r\n}\r\n\r\nconst initialState = {\r\n    [stateKey]: adiState\r\n}\r\n\r\nexport {\r\n    ArticalDetail, reducer, stateKey, initialState\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/containers/ArticalDetail.js","import {FETCH_STARTED, FETCH_SUCCESS, FETCH_FAILURE} from './actionTypes';\r\n\r\nimport {SERVERADDRESS} from \"../../config/config.js\";\r\n\r\nexport const fetchADetailStarted = () => ({\r\n    type: FETCH_STARTED\r\n});\r\n\r\nexport const fetchADetailSuccess = (infos) => ({\r\n    type: FETCH_SUCCESS,\r\n    infos\r\n});\r\n\r\nexport const fetchADetailFailure = (message) => ({\r\n    type: FETCH_FAILURE,\r\n    message\r\n});\r\n\r\nexport const getArticalDetail = (id) => {\r\n    return (dispatch) => {\r\n        const apiUrl = `${SERVERADDRESS}/get-artical-detail/${id}`;\r\n        dispatch(fetchADetailStarted());\r\n\r\n        fetch(apiUrl).then((response) => {\r\n            \r\n            if(response.status !== 200) {\r\n                throw new Error('Fail to get reaponse with status ' + response.status);\r\n                dispatch(fetchADetailFailure(\"LOADING FAILED! Error code: \" + response.status));\r\n            }\r\n\r\n            response.json().then((responseJson) => {\r\n                if(responseJson.status == 0) {\r\n                    dispatch(fetchADetailFailure(responseJson.message));\r\n                }\r\n                dispatch(fetchADetailSuccess(responseJson.infos));\r\n            }).catch((error) => {\r\n                dispatch(fetchADetailFailure(error));\r\n            })\r\n        }).catch((error) => {\r\n            dispatch(fetchADetailFailure(error));\r\n        });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/components/artical-detail/actions.js","export const FETCH_STARTED = 'ADETAIL/STARTED';\r\nexport const FETCH_SUCCESS = 'ADETAIL/SUCCESS';\r\nexport const FETCH_FAILURE = 'ADETAIL/FAILURE';\n\n\n// WEBPACK FOOTER //\n// ./app/components/artical-detail/actionTypes.js","import view, {stateKey, initialState} from './view';\r\nimport * as actions from './actions';\r\nimport reducer from './reducer';\r\n\r\nexport {\r\n    actions,\r\n    reducer,\r\n    stateKey,\r\n    initialState\r\n}\r\n\r\nexport default view;\n\n\n// WEBPACK FOOTER //\n// ./app/components/artical-detail/index.js","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {getArticalDetail} from './actions';\r\n\r\nimport './index.scss';\r\n\r\nexport const stateKey = 'artical-detail';\r\nexport const initialState = { };\r\n\r\nclass ArticalDetail extends Component {\r\n\r\n    componentDidMount() {\r\n        let {id, getDetail} = this.props; \r\n        console.log('hh');\r\n        getDetail(id);\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        let {id, getDetail} = this.props;\r\n\r\n        if (id != nextProps.id) {\r\n            console.log(123);\r\n            getDetail(nextProps.id);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {title, body, tag, category, created_at, updated_at, views, type} = this.props.detail;\r\n        return (\r\n            <div className=\"artical-detail\">\r\n                <h3 className=\"blog-title\">\r\n                    {\r\n                        type == 2 ? \"[转]\"\r\n                        : type == 3 ? \"[译]\" : \"\"\r\n                    }\r\n                    {title}\r\n                </h3>\r\n                <div className=\"blog-top\">\r\n                    <span>\r\n                        Last Modified : &nbsp; \r\n                        {\r\n                            updated_at ? updated_at : created_at\r\n                        }\r\n                    </span>\r\n                    <span className=\"spliter\"></span>\r\n                    <span>浏览 : &nbsp;  {views}</span><span className=\"spliter\"></span>\r\n                    <span>标签 : &nbsp;  {tag}</span>\r\n                </div>\r\n                <div className=\"blog-content\" dangerouslySetInnerHTML={{__html: body}}></div>\r\n                <script src=\"\"></script>                  \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        id: state[stateKey] && state[stateKey].id || null,\r\n        detail: state[stateKey] || {}\r\n    }\r\n}\r\n\r\nconst mapDispathToProps = (dispatch) => {\r\n    return {\r\n        getDetail: (id) => {\r\n            dispatch(getArticalDetail(id))\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispathToProps)(ArticalDetail);\n\n\n// WEBPACK FOOTER //\n// ./app/components/artical-detail/view.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/.npminstall/css-loader/0.28.4/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./index.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/.npminstall/style-loader/0.18.2/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/.npminstall/css-loader/0.28.4/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./index.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/.npminstall/css-loader/0.28.4/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./index.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/components/artical-detail/index.scss\n// module id = 859\n// module chunks = 6","exports = module.exports = require(\"../../../node_modules/.npminstall/css-loader/0.28.4/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".artical-detail {\\n  padding: 15px 35px;\\n  margin: 15px 0;\\n  font-size: 14px;\\n  box-shadow: 0 0 6px #666; }\\n\\n.blog-title {\\n  padding: 7px 0;\\n  font-size: 19px;\\n  font-weight: bold; }\\n\\n.blog-top {\\n  color: #aaa;\\n  margin-top: -2px;\\n  margin-bottom: 11px; }\\n  .blog-top > .spliter {\\n    height: 11px;\\n    margin: 0 8px;\\n    border-color: #ccc;\\n    display: inline-block;\\n    vertical-align: -2px;\\n    border-left: 1px solid #aaa; }\\n\\n.blog-content {\\n  margin: 22px 0;\\n  font-size: 15px;\\n  word-spacing: 2px;\\n  line-height: 22px;\\n  overflow: auto;\\n  word-wrap: break-word; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.npminstall/css-loader/0.28.4/css-loader!./node_modules/sass-loader/lib/loader.js!./app/components/artical-detail/index.scss\n// module id = 860\n// module chunks = 6","import * as Status from \"../../config/status\";\r\nimport {FETCH_STARTED, FETCH_SUCCESS, FETCH_FAILURE} from \"./actionTypes\";\r\n\r\nexport default(state = {status: Status.LOADING}, action) => {\r\n    switch(action.type) {\r\n        case FETCH_STARTED: {\r\n            return {\r\n                ...state,\r\n                status: Status.LOADING\r\n            }\r\n        }\r\n        case FETCH_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                status: Status.SUCCESS,\r\n                ...action.infos\r\n            }\r\n        }\r\n        case FETCH_FAILURE: {\r\n            return {\r\n                ...state,\r\n                status: Status.FAILURE,\r\n                error: Status.message\r\n            }\r\n        }\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/components/artical-detail/reducer.js"],"sourceRoot":""}